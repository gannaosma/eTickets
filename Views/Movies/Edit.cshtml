@using eTickets.Data.DTOs;
@using eTickets.Data.Enum;
@using eTickets.Data.ViewModels

@model MovieVM


@{
	ViewData["Tittle"] = "update movie";
}

<div class="row">
	<div class="col-md-8 offset-2">
		<p>
			<h4>update movie</h4>
		</p>
	</div>
	<div class="row">
		<div class="col-md-8 offset-2">
			<form asp-action="Edit">
				<div class="row">
					<div class="col-md-6">
						<div class="mb-2">
							<label asp-for="Name" class="control-label"></label>
							<input asp-for="Name" class="form-control"/>
							<span asp-validation-for="Name" class="text-danger"></span>
						</div>
						<div class="mb-2">
							<label asp-for="StartDate" class="control-label"></label>
							<input asp-for="StartDate" type="date" class="form-control" />
							<span asp-validation-for="StartDate" class="text-danger"></span>
						</div>
						<div class="mb-2">
							<label asp-for="EndDate" class="control-label"></label>
							<input asp-for="EndDate" type="date" class="form-control" />
							<span asp-validation-for="EndDate" class="text-danger"></span>
						</div>
						<div class="mb-2">
							<label asp-for="Price" class="control-label"></label>
							<input asp-for="Price" type="number" class="form-control" />
							<span asp-validation-for="Price" class="text-danger"></span>
						</div>
						<div class="mb-2">
							<label asp-for="ImageURL" class="control-label"></label>
							<input asp-for="ImageURL" class="form-control" />
							<span asp-validation-for="ImageURL" class="text-danger"></span>
						</div>
					</div>
					<div class="col-md-6">
						<div class="mb-2">
							<label asp-for="CinemaID" class="control-label"></label>
							<select asp-for="CinemaID" class="form-control" asp-items="ViewBag.Cinemas">
								<option></option>
							</select>
							<span asp-validation-for="CinemaID" class="text-danger"></span>
						</div>
						<div class="mb-2">
							<label asp-for="MovieCategory" class="control-label"></label>
							<select asp-for="MovieCategory" class="form-control" asp-items="Html.GetEnumSelectList<MovieCategory>()">
								<option></option>
							</select>
							<span asp-validation-for="MovieCategory" class="text-danger"></span>
						</div>
						<div class="mb-2">
							<label asp-for="ProdcerID" class="control-label"></label>
							<select asp-for="ProdcerID" class="form-control" asp-items="ViewBag.Producers">
								<option></option>
							</select>
							<span asp-validation-for="ProdcerID" class="text-danger"></span>
						</div>
						<div class="mb-2">
							<label asp-for="ActorIDs" class="control-label"></label>
							<select asp-for="ActorIDs" class="form-control" multiple asp-items="ViewBag.Actors"></select>
							<span asp-validation-for="ActorIDs" class="text-danger"></span>
						</div>
					</div>
					<div class="col-md-12">
						<div class="mb-2">
							<label asp-for="Description" class="control-label"></label>
							<textarea asp-for="Description" class="form-control"></textarea>
							<span asp-validation-for="Description" class="text-danger"></span>
						</div>
					</div>
				</div>

				<div class="col-md-4 offset-4 text-center">
					<img width="100%" id="ImagePreview" />
				</div>
				<div class="d-flex justify-content-between mt-3">
					<a asp-action="Index" class="btn btn-outline-secondary">Show All</a>
					<input type="submit" value="Update" class="btn btn-outline-success" />
				</div>
			</form>

		</div>
	</div>
</div>
@section Scripts
{
	<script>
		$(document).ready(function () {
			var output = document.getElementById('ImagePreview');
			output.src = $("#ImageURL").val();
		})
		$("#ImageURL").on("change", function () {
			var output = document.getElementById('ImagePreview');
			output.src = $(this).val();
		})
	</script>
}